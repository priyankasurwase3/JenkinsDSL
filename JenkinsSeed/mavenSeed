job('mavenJob'){
description ('This is maven seed job')
steps {
scm{
 git{
  remote{
   url('https://github.com/priyankasurwase3/simple-java-maven-app.git')
    }
branch('master')
   }
}
maven {
goals('-aB -DskipTests clean package') // Specifies the goals to execute including other command line options.
mavenInstallation('Maven')    // Specifies the Maven installation for executing this step.

 }
maven {
goals('test') // Specifies the goals to execute including other command line options.
mavenInstallation('Maven') // Specifies the Maven installation for executing this step.

 }
shell('''  
echo ************Deploying JAR************** 
java -jar C:/ProgramData/Jenkins/.jenkins/workspace/mavenJob/target/my-app-1.0-SNAPSHOT.jar
''') // Specifies the goals to execute including other command line options.
 }
publishers {
        archiveArtifacts('/target/*.jar')  // Adds post-build actions to the job, archive jar to the job o/p 
        archiveJunit('**/target/surefire-reports/*.xml')    // Adds post-build actions to the job, archive junit reports to the job o/p 
        mailer('surwase.priyanka3@gmail.com',false,true) // Adds post-build actions to the job, send email after failure 

    }
}
