/* First This freestyleDSL_IKP will create a seed job named 'createSeed' and the folders MULE and a under MULE a IKP folder as a subfolder.
Also it will execute dsl script named 'testSeed.grrovy' and create another subfolder of MULE named AWS.
*/
job('createSeed') {
description ('This job is to create a seed job')

def gitURL='https://github.com/priyankasurwase3/JenkinsDSL.git'
parameters{
stringParam('ENV','sct','select env to deploy')
booleanParam('FLAG',true,'select the flag')
choiceParam('OPTION',['OP1(default)','OP2','select option'])
}
scm{
 git {
  remote {
  name('SHPrepo')
  url(gitURL)
  }
branch('feature')
}
} 


steps {
folder ('mule'){
displayName('MULE')
description('Folder for mule')
}
folder ('mule/ikp'){
displayName('IKP')
description('Folder for ikp mule')
} 
dsl{
external('testSeed.groovy')      //Reads Job DSL scripts from the job's workspace.
lookupStrategy('SEED_JOB')   //Chooses the lookup strategy for relative job names. Must be either 'JENKINS_ROOT' (default) or 'SEED_JOB'.

}

}
}
